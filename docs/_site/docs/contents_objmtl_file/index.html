<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Contents of the OBJ and MTL Output Files</title>
    <meta name="description" content="">


    <link rel="stylesheet" href="/chap/css/main.css">
    <link rel="stylesheet" href="/chap/css/font-awesome.min.css">

    <link rel="shortcut icon" href="/chap/favicon.ico?1">
    <!-- Begin Jekyll SEO tag v2.2.2 -->
<title>Contents of the OBJ and MTL Output Files | CHAP</title>
<meta property="og:title" content="Contents of the OBJ and MTL Output Files" />
<meta property="og:locale" content="en_US" />
<link rel="canonical" href="http://localhost:4000/chap/docs/contents_objmtl_file/" />
<meta property="og:url" content="http://localhost:4000/chap/docs/contents_objmtl_file/" />
<meta property="og:site_name" content="CHAP" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2018-02-15T21:33:50+00:00" />
<script type="application/ld+json">
{"@context":"http://schema.org","@type":"WebPage","headline":"Contents of the OBJ and MTL Output Files","datePublished":"2018-02-15T21:33:50+00:00","dateModified":"2018-02-15T21:33:50+00:00","url":"http://localhost:4000/chap/docs/contents_objmtl_file/"}</script>
<!-- End Jekyll SEO tag -->


    <link rel="canonical" href="http://localhost:4000/chap/docs/contents_objmtl_file/">
    <link rel="alternate" type="application/rss+xml" title="CHAP" href="http://localhost:4000/chap/feed.xml" />
</head>


<body>

    <nav class="navbar navbar-default navbar-fixed-top">
    <div class="container navbar-container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
            <a class="navbar-brand" href="/chap/">
                <span><img src="/chap/img/logonav.png"></span> CHAP
            </a>
        </div>
        <div id="navbar" class="collapse navbar-collapse">
            <ul class="nav navbar-nav">
                <li  class="active" ><a href="/chap/docs/home/">Documentation</a></li>
                <li ><a href="/chap/publications.html">Publications</a></li>
                <li ><a href="/chap/blog/2018/01/26/chap-at-bps/">News</a></li>
                <li ><a href="/chap/aboutus.html">About Us</a></li>
            </ul>
            <div class="navbar-right">
                <form class="navbar-form navbar-left">
                    <div class="form-group has-feedback">
                        <input id="search-box" type="text" class="form-control" placeholder="Search...">
                        <i class="fa fa-search form-control-feedback"></i>
                    </div>
                </form>
                <ul class="nav navbar-nav">
                    <li><a href=""><i class="fa fa-github" aria-hidden="true"></i></a></li>
                </ul>
            </div>
        </div>
    </div>
</nav>



    <div class="page-content">
        <div class="wrapper">
            <div class="container">
    <div class="row">
        <div class="col-md-4">
          <div class="panel-group" id="accordion" role="tablist" aria-multiselectable="true">

  <div class="panel panel-default">
    <div class="panel-heading">
      <h4 class="panel-title">
        <a role="button" data-toggle="collapse" data-parent="#accordion" href="#collapse-1" aria-expanded="false" aria-controls="collapse-1">
          Getting Started
        </a>
      </h4>
    </div>
    <div id="collapse-1" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingOne">
      <ul class="list-group">
        
          
          
          <a class="list-group-item " href="/chap/docs/home/">What CHAP Can Do</a>
        
          
          
          <a class="list-group-item " href="/chap/docs/installing_chap/">Installing CHAP</a>
        
          
          
          <a class="list-group-item " href="/chap/docs/annotation_example/">Annotation Example</a>
        
      </ul>
    </div>
  </div>

  <div class="panel panel-default">
    <div class="panel-heading">
      <h4 class="panel-title">
        <a role="button" data-toggle="collapse" data-parent="#accordion" href="#collapse-2" aria-expanded="false" aria-controls="collapse-2">
          Running CHAP
        </a>
      </h4>
    </div>
    <div id="collapse-2" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingOne">
      <ul class="list-group">
        
          
          
          <a class="list-group-item " href="/chap/docs/chap_workflow/">Overview of CHAP Workflow</a>
        
          
          
          <a class="list-group-item " href="/chap/docs/input_parameters/">Input Parameters</a>
        
      </ul>
    </div>
  </div>

  <div class="panel panel-default">
    <div class="panel-heading">
      <h4 class="panel-title">
        <a role="button" data-toggle="collapse" data-parent="#accordion" href="#collapse-3" aria-expanded="false" aria-controls="collapse-3">
          Understanding Output
        </a>
      </h4>
    </div>
    <div id="collapse-3" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingOne">
      <ul class="list-group">
        
          
          
          <a class="list-group-item " href="/chap/docs/overview_output/">Overview of Output Files</a>
        
          
          
          <a class="list-group-item " href="/chap/docs/contents_json_file/">Contents of the JSON Output File</a>
        
          
          
          <a class="list-group-item " href="/chap/docs/contents_pdb_file/">Contents of the PDB Output File</a>
        
          
          
          <a class="list-group-item active" href="/chap/docs/contents_objmtl_file/">Contents of the OBJ and MTL Output Files</a>
        
      </ul>
    </div>
  </div>

  <div class="panel panel-default">
    <div class="panel-heading">
      <h4 class="panel-title">
        <a role="button" data-toggle="collapse" data-parent="#accordion" href="#collapse-4" aria-expanded="false" aria-controls="collapse-4">
          Visualising Results
        </a>
      </h4>
    </div>
    <div id="collapse-4" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingOne">
      <ul class="list-group">
        
          
          
          <a class="list-group-item " href="/chap/docs/plotting_python/">Plotting in Python</a>
        
          
          
          <a class="list-group-item " href="/chap/docs/plotting_r/">Plotting in R</a>
        
          
          
          <a class="list-group-item " href="/chap/docs/molecular_graphics_pymol/">Molecular Graphics in PyMOL</a>
        
          
          
          <a class="list-group-item " href="/chap/docs/molecular_graphics_vmd/">Molecular Graphics in VMD</a>
        
      </ul>
    </div>
  </div>

  <div class="panel panel-default">
    <div class="panel-heading">
      <h4 class="panel-title">
        <a role="button" data-toggle="collapse" data-parent="#accordion" href="#collapse-5" aria-expanded="false" aria-controls="collapse-5">
          Data Sources
        </a>
      </h4>
    </div>
    <div id="collapse-5" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingOne">
      <ul class="list-group">
        
          
          
          <a class="list-group-item " href="/chap/docs/vdw_radii/">Van der Waals Radii</a>
        
          
          
          <a class="list-group-item " href="/chap/docs/hydrophobicity_scales/">Hydrophobicity Scales</a>
        
          
          
          <a class="list-group-item " href="/chap/docs/colour_palettes/">Colour Palettes</a>
        
      </ul>
    </div>
  </div>

</div>

        </div>

        <div class="col-md-8">
            <h1>Contents of the OBJ and MTL Output Files</h1>
            <div id="markdown-content-container">
<p>CHAP uses the <a href="http://www.fileformat.info/format/wavefrontobj/egff.htm">Wavefront OBJ geometry file format</a> and the associated
<a href="http://www.fileformat.info/format/material/">Wavefront MTL material library format</a> to represent the geometry of
a channelâ€™s permeation pathway and its colour coding according to various
properties such as channel radius or channel hydrophobicity. The following
paragraphs will not repeat the definition of the Wavefront format as such, but
rather describe how it is used by CHAP to export pathway geometries.</p>

<p>Each <code class="highlighter-rouge">output.obj</code> file generated by CHAP contains only one object record
(denoted by <code class="highlighter-rouge">o</code>) and a unique set of vertices and vertex normals (denoted by <code class="highlighter-rouge">v</code>
and <code class="highlighter-rouge">vn</code> respectively). These are three-vectors of Cartesian coordinates given
in Angstroms for compatibility with the units used by most common molecular
graphics packages. Currently, CHAP also writes numbers to the vertex weight
field, but these are not meaningful and will be deprecated in future releases.
Note that CHAP does not write any texture vertices (<code class="highlighter-rouge">vt</code> records).</p>

<p>Following the definition of vertices and vertex normals, the <code class="highlighter-rouge">output.obj</code> file
defines the triangular faces (records denoted by <code class="highlighter-rouge">f</code>) that make up the pathway
surface. The face records belong to different groups (denoted by <code class="highlighter-rouge">g</code>), where
each group of faces represents one of the following pathway properties:</p>

<table>
  <thead>
    <tr>
      <th>Property</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">radius</code></td>
      <td>Radius of the pathway through the structure defined in the input topology. Rescaled to the interval [0, 1] before colour scale mapping.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">avg_radius</code></td>
      <td>Time-averaged pathway radius. Rescaled to the interval [0, 1] before colour scale mapping.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">avg_pl_hydrophobicity</code></td>
      <td>Time-averaged hydrophobicity due to pore-lining residues. Rescaled to the interval [-1, 1] before colour scale mapping.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">avg_pf_hydrophobicity</code></td>
      <td>Time-averaged hydrophobicity due to pore-facing residues. Rescaled to the interval [-1, 1] before colour scale mapping.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">avg_density</code></td>
      <td>Time-averaged solvent density. Rescaled to the interval [0, 1] before colour scale mapping.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">avg_energy</code></td>
      <td>Time-averaged solvent free energy. Rescaled to the interval [0, 1] before colour scale mapping.</td>
    </tr>
  </tbody>
</table>

<p>As all properties are mapped onto the same surface geometry, the faces in each
group reference identical vertices and vertex normals, but are interspersed with
different <code class="highlighter-rouge">usemtl</code> directives. Each <code class="highlighter-rouge">usemtl</code> directive references a material
defined in the <code class="highlighter-rouge">output.mtl</code> file linked by the <code class="highlighter-rouge">mtllib</code> record at the beginning
of the <code class="highlighter-rouge">output.obj</code> file. The <code class="highlighter-rouge">output.mtl</code> file specifies the precise material
to use for a face, where each material only specifies the face colour. Note that
this is due to the specification of the OBJ format, which does not permit
per-vertex colours.</p>

<p>Face colours are calculated by averaging the (internally known) colours of the
three vertices defining a face. The vertex colours themselves are determined by
first calculating the value of the respective pathway property at the position
of a vertex (in pathway coordinates) and using the colour scales in
<code class="highlighter-rouge">chap/share/data/palletes/default.json</code> to obtain corresponding RGB colours.
These RGB colours are then written to the <code class="highlighter-rouge">output.mtl</code> file as the ambient
(<code class="highlighter-rouge">Ka</code>), specular (<code class="highlighter-rouge">Ks</code>), and diffuse (<code class="highlighter-rouge">Kd</code>) colours of the respective material.
Note however that when loading CHAP output into VMD or PyMOL, only the ambient
colour will be used and the exact appearance of the surface will depend on the
scene settings of the respective viewer.</p>

</div>
            <p class="text-center">
              <br />
              <a target="_blank" href="/_docs/overview-output/contents_objmtl_file.md" class="btn btn-default githubEditButton" role="button">
                <i class="fa fa-pencil fa-lg"></i> Improve this page
              </a>
            </p>
            <hr>
            





  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  
    <ul class="pager">
      
        
        
        <li class="previous">
          <a href="/chap/docs/contents_pdb_file/">
            <span aria-hidden="true">&larr;</span> Previous
          </a>
        </li>
      

      
        
        
        <li class="next">
          <a href="/chap/docs/plotting_python/">
            Next <span aria-hidden="true">&rarr;</span>
          </a>
        </li>
      
    </div>
    <div class="clear"></div>
    

        </div>

    </div>
</div>

        </div>
    </div>

    <footer class="footer">
    <div class="container">

        <p class="text-center">
            CHAP 2018 |
            Powered by <a href="https://github.com/aksakalli/jekyll-doc-theme">Jekyll Doc Theme</a>
        </p>
        <!-- <p class="text-muted">Place sticky footer content here.</p> -->
    </div>
</footer>

    <script>
  var baseurl = '/chap'
</script>
<script src="//code.jquery.com/jquery-1.10.2.min.js"></script>
<script src="/chap/js/bootstrap.min.js "></script>
<script src="/chap/js/typeahead.bundle.min.js "></script>

<script src="/chap/js/main.js "></script>

</body>

</html>
